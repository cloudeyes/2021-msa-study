<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="346px" preserveAspectRatio="none" style="width:628px;height:346px;" version="1.1" viewBox="0 0 628 346" width="628px" zoomAndPan="magnify"><defs><filter height="300%" id="f16jjw2r564lem" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Purchasing\nDept--><polygon fill="#FFFFFF" filter="url(#f16jjw2r564lem)" points="22,24,94,24,101,67.2617,119,67.2617,119,208,22,208,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="101" y1="67.2617" y2="67.2617"/><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="30" y="41.8701">Purchasing</text><text fill="#000000" font-family="Segoe UI" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="46.5" y="56.501">Dept</text><!--entity Purchasing\nDept. User--><ellipse cx="70.5" cy="90" fill="#B5E2FA" filter="url(#f16jjw2r564lem)" rx="8" ry="8" style="stroke: #0FA3B1; stroke-width: 2.0;"/><path d="M70.5,98 L70.5,125 M57.5,106 L83.5,106 M70.5,125 L57.5,140 M70.5,125 L83.5,140 " fill="none" filter="url(#f16jjw2r564lem)" style="stroke: #0FA3B1; stroke-width: 2.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="42" y="162.8701">Purchasing</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="42" y="185.501">Dept. User</text><!--class Order--><rect fill="#B5E2FA" filter="url(#f16jjw2r564lem)" height="71.2617" id="Order" style="stroke: #0FA3B1; stroke-width: 1.5;" width="66" x="275.5" y="260"/><ellipse cx="288.5" cy="276.3154" fill="#EDDEA4" rx="9" ry="9" style="stroke: #0FA3B1; stroke-width: 1.0;"/><path d="M289.8125,280.0811 Q289.4375,280.2842 289.0156,280.3779 Q288.6094,280.4717 288.1406,280.4717 Q286.5313,280.4717 285.6719,279.4092 Q284.8125,278.3311 284.8125,276.3154 Q284.8125,274.2842 285.6719,273.2217 Q286.5313,272.1436 288.1406,272.1436 Q288.6094,272.1436 289.0156,272.2529 Q289.4375,272.3467 289.8125,272.5342 L289.8125,274.2998 Q289.3906,273.9248 289,273.7529 Q288.625,273.5811 288.2188,273.5811 Q287.3594,273.5811 286.9063,274.2686 Q286.4688,274.9561 286.4688,276.3154 Q286.4688,277.6748 286.9063,278.3623 Q287.3594,279.0498 288.2188,279.0498 Q288.625,279.0498 289,278.8779 Q289.3906,278.7061 289.8125,278.3154 L289.8125,280.0811 Z "/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="304.5" y="280.8701">Order</text><line style="stroke: #0FA3B1; stroke-width: 1.5;" x1="276.5" x2="340.5" y1="292.6309" y2="292.6309"/><ellipse cx="286.5" cy="309.4463" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="297.5" y="312.501">id: str</text><line style="stroke: #0FA3B1; stroke-width: 1.5;" x1="276.5" x2="340.5" y1="323.2617" y2="323.2617"/><!--class OrderLine--><rect fill="#B5E2FA" filter="url(#f16jjw2r564lem)" height="139.1543" id="OrderLine" style="stroke: #0FA3B1; stroke-width: 1.5;" width="98" x="519" y="180"/><ellipse cx="532" cy="207.6309" fill="#EDDEA4" rx="9" ry="9" style="stroke: #0FA3B1; stroke-width: 1.0;"/><path d="M533.3125,211.3965 Q532.9375,211.5996 532.5156,211.6934 Q532.1094,211.7871 531.6406,211.7871 Q530.0313,211.7871 529.1719,210.7246 Q528.3125,209.6465 528.3125,207.6309 Q528.3125,205.5996 529.1719,204.5371 Q530.0313,203.459 531.6406,203.459 Q532.1094,203.459 532.5156,203.5684 Q532.9375,203.6621 533.3125,203.8496 L533.3125,205.6152 Q532.8906,205.2402 532.5,205.0684 Q532.125,204.8965 531.7188,204.8965 Q530.8594,204.8965 530.4063,205.584 Q529.9688,206.2715 529.9688,207.6309 Q529.9688,208.9902 530.4063,209.6777 Q530.8594,210.3652 531.7188,210.3652 Q532.125,210.3652 532.5,210.1934 Q532.8906,210.0215 533.3125,209.6309 L533.3125,211.3965 Z "/><text fill="#000000" font-family="Segoe UI" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="546" y="200.8701">«valueobject»</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="553.5" y="223.501">OrderLine</text><line style="stroke: #0FA3B1; stroke-width: 1.5;" x1="520" x2="616" y1="235.2617" y2="235.2617"/><ellipse cx="530" cy="252.0771" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="541" y="255.1318">orderid: str</text><ellipse cx="530" cy="274.708" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="541" y="277.7627">sku: str</text><ellipse cx="530" cy="297.3389" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="541" y="300.3936">qty: int</text><line style="stroke: #0FA3B1; stroke-width: 1.5;" x1="520" x2="616" y1="311.1543" y2="311.1543"/><!--class Batch--><rect fill="#B5E2FA" filter="url(#f16jjw2r564lem)" height="161.7852" id="Batch" style="stroke: #0FA3B1; stroke-width: 1.5;" width="147" x="235" y="55.5"/><ellipse cx="286.75" cy="71.8154" fill="#EDDEA4" rx="9" ry="9" style="stroke: #0FA3B1; stroke-width: 1.0;"/><path d="M288.0625,75.5811 Q287.6875,75.7842 287.2656,75.8779 Q286.8594,75.9717 286.3906,75.9717 Q284.7813,75.9717 283.9219,74.9092 Q283.0625,73.8311 283.0625,71.8154 Q283.0625,69.7842 283.9219,68.7217 Q284.7813,67.6436 286.3906,67.6436 Q286.8594,67.6436 287.2656,67.7529 Q287.6875,67.8467 288.0625,68.0342 L288.0625,69.7998 Q287.6406,69.4248 287.25,69.2529 Q286.875,69.0811 286.4688,69.0811 Q285.6094,69.0811 285.1563,69.7686 Q284.7188,70.4561 284.7188,71.8154 Q284.7188,73.1748 285.1563,73.8623 Q285.6094,74.5498 286.4688,74.5498 Q286.875,74.5498 287.25,74.3779 Q287.6406,74.2061 288.0625,73.8154 L288.0625,75.5811 Z "/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="308.25" y="76.3701">Batch</text><line style="stroke: #0FA3B1; stroke-width: 1.5;" x1="236" x2="381" y1="88.1309" y2="88.1309"/><ellipse cx="246" cy="104.9463" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="257" y="108.001">reference: str</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="257" y="130.6318">sku: str</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="257" y="153.2627">eta: date</text><line style="stroke: #0FA3B1; stroke-width: 1.0;" x1="236" x2="381" y1="164.0234" y2="164.0234"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="245" y="183.8936">_purchased_quantity: int</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="245" y="206.5244">_allocations: [OrderLine]</text><!--entity Customer--><ellipse cx="70.5" cy="260" fill="#B5E2FA" filter="url(#f16jjw2r564lem)" rx="8" ry="8" style="stroke: #0FA3B1; stroke-width: 2.0;"/><path d="M70.5,268 L70.5,295 M57.5,276 L83.5,276 M70.5,295 L57.5,310 M70.5,295 L83.5,310 " fill="none" filter="url(#f16jjw2r564lem)" style="stroke: #0FA3B1; stroke-width: 2.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="46" y="332.8701">Customer</text><!--link Customer to Order--><path d="M99.03,295 C139.04,295 213.71,295 261.98,295 " fill="none" id="Customer-Order" style="stroke: #0FA3B1; stroke-width: 1.0;"/><polygon fill="#0FA3B1" points="267.15,295,258.15,291,262.15,295,258.15,299,267.15,295" style="stroke: #0FA3B1; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="150" y="287.8701">places</text><!--link Order to OrderLine--><path d="M355.8,306.94 C408.33,306.44 428.01,302.12 481,278 C494.64,271.79 497.1,259.82 505.34,253.74 " fill="none" id="Order-OrderLine" style="stroke: #0FA3B1; stroke-width: 1.0;"/><polygon fill="#0FA3B1" points="518,250,508.2354,248.7147,513.205,251.4171,510.5027,256.3867,518,250" style="stroke: #0FA3B1; stroke-width: 1.0;"/><line style="stroke: #0FA3B1; stroke-width: 1.0;" x1="513.205" x2="505.53" y1="251.4171" y2="253.685"/><polygon fill="#FFFFFF" points="342.5,307,348.5175,310.9736,354.4999,306.9473,348.4824,302.9737,342.5,307" style="stroke: #0FA3B1; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="425" y="255.8701">comprises</text><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="429.5" y="270.501">multiple</text><!--link Batch to OrderLine--><path d="M396.68,202.36 C431.65,204.25 468.17,213.2 498.38,222.76 " fill="none" id="Batch-OrderLine" style="stroke: #0FA3B1; stroke-width: 1.0;"/><polygon fill="#0FA3B1" points="510.91,226.88,503.6091,220.2696,506.16,225.3187,501.111,227.8696,510.91,226.88" style="stroke: #0FA3B1; stroke-width: 1.0;"/><line style="stroke: #0FA3B1; stroke-width: 1.0;" x1="506.16" x2="498.56" y1="225.3187" y2="222.82"/><polygon fill="#FFFFFF" points="383.5,202,389.3879,206.1633,395.4955,202.3295,389.6076,198.1663,383.5,202" style="stroke: #0FA3B1; stroke-width: 1.0;"/><!--link Purchasing\nDept. User to Batch--><path d="M103.33,136 C133.55,136 180.36,136 221.54,136 " fill="none" id="Purchasing\nDept. User-Batch" style="stroke: #0FA3B1; stroke-width: 1.0;"/><polygon fill="#0FA3B1" points="226.79,136,217.79,132,221.79,136,217.79,140,226.79,136" style="stroke: #0FA3B1; stroke-width: 1.0;"/><text fill="#000000" font-family="Segoe UI" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="140" y="128.8701">purchases</text><!--
@startuml
skinparam default {
    FontName "Segoe UI"
    FontSize 11
    FontColor Black
}

skinparam class {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}

skinparam CircledCharacter {
    FontColor Black
}

skinparam stereotypeC {
    BackgroundColor #eddea4 
}

skinparam package {
    FontName "Segoe UI"
}

skinparam sequencelifeline {
    BorderColor #0fa3b1
}
skinparam arrow {
    Color #0fa3b1
}
skinparam participant {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam entity {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam collections {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam database {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam boundary {
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam actor {
    Color DeepSkyBlue
    BackgroundColor #b5e2fa
    BorderColor #0fa3b1
}
skinparam sequencegroupheader {
    FontName "Segoe UI"
}
skinparam sequencebox {
    BackgroundColor PowderBlue
    BorderColor #0fa3b1
}
skinparam padding 4

allow_mixing
left to right direction

class Order {
    * id: str
}

class OrderLine << valueobject >> {
    * orderid: str
    * sku: str
    * qty: int
}

class Batch {
    * reference: str
    sku: str
    eta: date
    - -
    _purchased_quantity: int
    _allocations: [OrderLine]
}

actor Customer
actor "Purchasing\nDept. User"

Customer - -> Order : places
Order::id o- -> OrderLine::orderid : "comprises\nmultiple"
Batch::_allocations o- -> OrderLine
"Purchasing\nDept. User" - -> Batch : "purchases"
        
@enduml

PlantUML version 1.2018.13(Tue Nov 27 02:11:51 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1-Ubuntu-0ubuntu1.20.04
Operating System: Linux
OS Version: 5.4.0-1032-azure
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>